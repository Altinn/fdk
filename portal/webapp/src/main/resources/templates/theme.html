<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <title th:text="#{app.title}">Felles datakatalog</title>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="dcatQueryService" th:content="${session.dcatQueryService}"/>
    <link rel="stylesheet" href="webjars/bootstrap/3.3.7/css/bootstrap.min.css" media="all"/>
    <style>
.publisher {
    position: absolute;
    top: 0;
    right: 0;
}

.overflow-text {
   overflow: hidden;
   text-overflow: ellipsis;
   display: -webkit-box;
   line-height: 120%; //1em;     /* fallback */
   max-height: 360%; // 3em;      /* fallback */
   -webkit-line-clamp: 3; /* number of lines to show */
   -webkit-box-orient: vertical;
}

    </style>
</head>
<body>

<div lang="en" th:replace="header :: version" />

<div class="container-fluid">
    <div lang="en" th:replace="header :: header" />

    <div class="row">
        <form class="form-group a-form-group site-search col-sm-8 col-sm-offset-2" ation="#" th:action="@{/results}" th:object="${dataitemquery}"  method="post" >
            <div class="input-group input-group-large">

                <label for="search" id="searchLarge">
                    <span class="sr-only" th:text="#{query.intro}"> SÃ¸k etter datasett </span>
                </label>

                <input id="search" type="text" class="form-control" placeholder="#" th:attr="placeholder=#{query.intro}" th:field="*{q}" />
                <span class="input-group-btn">
                    <button id="dosearch" class="btn btn-info" type="submit">
                        <i class="glyphicon glyphicon-search"></i>
                    </button>
                </span>


            </div>

        </form>
    </div>
    <div class = "row">
        <th:block th:with="rowCount=${3}">
            <div th:each="r : ${#numbers.sequence(0, rowCount - 1)}"  class="col-sm-4">
                <h4 th:each="c : ${#numbers.sequence(r*(themes.size()/rowCount), themes.size() > (r + 2)*(themes.size()/rowCount) - 1? (r+1)*(themes.size()/rowCount) - 1 : themes.size()-1)}">
                    <a th:if="${r &lt; themes.size()}"
                       th:text="${themes.get(c).title.get('nb')} != null ? ${themes.get(c).title.get('nb')} : ${themes.get(c).title.get('nn')}"
                       href="#" th:href="${'/results?theme=' + {themes.get(c).code}}" class="span3" />
                </h4>
            </div>
        </th:block>
    </div>
</div>
<div lang="en" th:replace="footer :: footer" />
</body>
</html>